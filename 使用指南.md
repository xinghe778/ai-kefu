# YiZi AI V3.0 使用指南

## 🚀 快速开始

### 新版本界面
新的现代化界面文件：`index_v2.php`

使用方法：
1. 将 `index_v2.php` 重命名为 `index.php`
2. 或直接访问 `index_v2.php`

### 主要新功能
- 🎨 **现代化界面**: 全新的设计风格和动画效果
- 🔐 **用户权限**: 游客只能使用基础模型，注册用户可使用全部模型
- 🎫 **邀请码注册**: 需要邀请码才能注册新用户
- 📱 **移动端优化**: 更好的手机端体验
- 🌙 **主题切换**: 支持明暗主题切换

## 🛠️ 后台管理新功能

### 邀请码管理
1. 登录后台（admin/）
2. 菜单中找到"邀请码管理"
3. 点击"生成邀请码"创建新邀请码
4. 设置有效期和使用次数

### 用户权限
- **游客模式**: 只能使用 gpt-3.5-turbo
- **注册用户**: 可使用全部模型
- **权限自动控制**: 无需手动设置

## 📝 重要提醒

### 首次使用
1. **运行数据库初始化**:
   ```bash
   mysql -u root -p api < create_invite_codes.sql
   mysql -u root -p api < user_input_files/install/database_init.sql
   ```

2. **生成测试邀请码**:
   - 后台 → 邀请码管理
   - 生成一个邀请码供测试

3. **测试注册流程**:
   - 访问注册页面
   - 使用邀请码注册新用户
   - 验证权限控制是否生效

### 旧版本兼容性
- 原有的 `index.php` 依然可用
- 数据库结构兼容
- 所有原有功能保持不变

## 🎯 界面对比

| 功能 | 原版界面 | 新版界面 |
|------|----------|----------|
| 设计风格 | Bootstrap基础 | 现代化渐变设计 |
| 动画效果 | 基础过渡 | 流畅动画效果 |
| 主题切换 | ❌ | ✅ 明暗双主题 |
| 移动端 | 基础适配 | 完美优化 |
| 消息气泡 | 简单样式 | 卡片式设计 |
| 文件上传 | 基础功能 | 拖放优化 |

## 🔧 技术改进

### 前端
- CSS变量系统支持主题切换
- 现代化渐变和阴影效果
- 响应式布局优化
- 流畅的动画和过渡

### 后端
- 用户权限控制API
- 邀请码管理系统
- 更安全的用户验证
- 完整的操作日志

## 💡 使用技巧

### 游客用户体验
1. 直接访问即可使用
2. 界面会提示注册解锁更多功能
3. 聊天记录保存在本地

### 注册用户体验
1. 获取邀请码（联系管理员）
2. 填写注册信息
3. 自动解锁全部模型
4. 云端同步聊天记录

### 管理员操作
1. 定期生成邀请码
2. 监控用户使用情况
3. 管理用户权限
4. 查看系统日志

## 🆘 常见问题

### Q: 如何切换到新界面？
A: 将 `index_v2.php` 重命名为 `index.php`，或直接访问该文件。

### Q: 邀请码从哪里获取？
A: 联系管理员生成，或在后台邀请码管理中创建。

### Q: 游客用户有什么限制？
A: 只能使用 gpt-3.5-turbo 模型，无法保存聊天记录到云端。

### Q: 新旧版本可以同时使用吗？
A: 可以，文件是独立的，互不影响。

### Q: 如何回滚到旧版本？
A: 删除新文件，恢复原有的 `index.php` 即可。

## 📞 技术支持

如遇到问题，请：
1. 查看 `更新说明_V3.0_完整版.md` 详细文档
2. 检查 `项目完成总结.md` 技术说明
3. 运行 `deploy.sh` 自动部署脚本
4. 查看后台错误日志

---

*享受全新的 YiZi AI V3.0 体验！* ✨